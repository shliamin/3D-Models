<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Circles</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; }
        #plot { width: 100%; height: 100vh; }
    </style>
</head>
<body>
    <div id="plot"></div>
    <script>
        var data = [];

        // Создание первого круга (вертикально относительно пола)
        var theta1 = [];
        var x1 = [];
        var z1 = [];
        for (var i = 0; i <= 360; i++) {
            theta1.push(i);
            x1.push(Math.cos(i * Math.PI / 180) * 5);
            z1.push(Math.sin(i * Math.PI / 180) * 5);
        }
        var circle1 = {
            type: 'scatter3d',
            mode: 'lines',
            x: x1,
            y: Array(theta1.length).fill(0),
            z: z1.filter(z => z >= 0), // Убираем нижнюю половину круга
            line: {color: 'blue', width: 4}
        };
        data.push(circle1);

        // Создание второго круга (перпендикулярно первому)
        var theta2 = [];
        var y2 = [];
        var z2 = [];
        for (var i = 0; i <= 360; i++) {
            theta2.push(i);
            y2.push(Math.cos(i * Math.PI / 180) * 5);
            z2.push(Math.sin(i * Math.PI / 180) * 5);
        }
        var circle2 = {
            type: 'scatter3d',
            mode: 'lines',
            x: Array(theta2.length).fill(0),
            y: y2,
            z: z2,
            line: {color: 'blue', width: 4}
        };
        data.push(circle2);

        // Создание пола
        var planeX = [-5, 5, 0, 0];
        var planeY = [0, 0, -5, 5];
        var planeZ = [0, 0, 0, 0];
        var plane = {
            type: 'mesh3d',
            x: planeX,
            y: planeY,
            z: planeZ,
            opacity: 0.5,
            color: 'blue'
        };
        data.push(plane);

        var layout = {
            scene: {
                xaxis: {range: [-10, 10], autorange: false},
                yaxis: {range: [-10, 10], autorange: false},
                zaxis: {range: [0, 20], autorange: false} // Задаем фиксированный диапазон для оси Z
            }
        };

        Plotly.newPlot('plot', data, layout);

        window.addEventListener('resize', () => {
            Plotly.Plots.resize(document.getElementById('plot'));
        });
    </script>
</body>
</html>
