<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Tent Model</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Interactive Tent Model</h1>
    <div id="tentModel" style="width: 100%; height: 600px;"></div>
    <script>
        // Размеры палатки
        const height = 1.2;  // Высота палатки в метрах
        const width = 1.4;   // Ширина палатки в метрах
        const depth = 2.3;   // Глубина палатки в метрах

        // Функция для создания дуги
        function circularArc(start, end, height, num_points = 100) {
            let t = Array.from({length: num_points}, (_, i) => i / (num_points - 1));
            let arc = {x: [], y: [], z: []};
            t.forEach((val) => {
                arc.x.push((1-val) * start[0] + val * end[0]);
                arc.y.push((1-val) * start[1] + val * end[1]);
                arc.z.push(height * Math.sin(Math.PI * val));
            });
            return arc;
        }

        // Координаты вершин палатки
        let vertices = [
            [0, 0, 0],         // Нижний передний левый угол
            [width, 0, 0],     // Нижний передний правый угол
            [0, depth, 0],     // Нижний задний левый угол
            [width, depth, 0], // Нижний задний правый угол
            [width/2, depth/2, height]  // Верхняя центральная точка
        ];

        // Рисуем дуги, пересекающиеся в вершине палатки
        let arc1 = circularArc(vertices[0], vertices[3], height);
        let arc2 = circularArc(vertices[1], vertices[2], height);

        let data = [
            {
                x: arc1.x,
                y: arc1.y,
                z: arc1.z,
                mode: 'lines',
                line: {
                    color: 'blue',
                    width: 5
                },
                type: 'scatter3d'
            },
            {
                x: arc2.x,
                y: arc2.y,
                z: arc2.z,
                mode: 'lines',
                line: {
                    color: 'blue',
                    width: 5
                },
                type: 'scatter3d'
            },
            {
                x: [vertices[0][0], vertices[1][0], vertices[3][0], vertices[2][0], vertices[0][0]],
                y: [vertices[0][1], vertices[1][1], vertices[3][1], vertices[2][1], vertices[0][1]],
                z: [vertices[0][2], vertices[1][2], vertices[3][2], vertices[2][2], vertices[0][2]],
                mode: 'lines',
                line: {
                    color: 'cyan',
                    width: 5
                },
                type: 'scatter3d'
            }
        ];

        let layout = {
            scene: {
                xaxis: {title: 'Width'},
                yaxis: {title: 'Depth'},
                zaxis: {title: 'Height'},
                aspectratio: {x: width, y: depth, z: height}
            },
            margin: {
                l: 0,
                r: 0,
                b: 0,
                t: 0
            }
        };

        Plotly.newPlot('tentModel', data, layout);
    </script>
</body>
</html>
