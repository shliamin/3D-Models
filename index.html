<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Circles</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; }
        #plot { width: 100%; height: 90vh; }
        #controls { width: 100%; height: 10vh; text-align: center; padding: 10px; background-color: #f0f0f0; }
    </style>
</head>
<body>
    <div id="plot"></div>
    <div id="controls">
        <label for="floorHeight">Floor Height:</label>
        <input type="range" id="floorHeight" name="floorHeight" min="0" max="10" step="0.1" value="0">
    </div>
    <script>
        var floorHeight = 0;

        function createCircle(radius, orientation, color) {
            var theta = [];
            var x = [];
            var y = [];
            var z = [];
            for (var i = 0; i <= 360; i++) {
                theta.push(i);
                if (orientation === 'xy') {
                    x.push(Math.cos(i * Math.PI / 180) * radius);
                    y.push(Math.sin(i * Math.PI / 180) * radius);
                    z.push(0);
                } else if (orientation === 'yz') {
                    x.push(0);
                    y.push(Math.cos(i * Math.PI / 180) * radius);
                    z.push(Math.sin(i * Math.PI / 180) * radius);
                }
            }
            return {
                type: 'scatter3d',
                mode: 'lines',
                x: x,
                y: y,
                z: z.filter(zVal => zVal >= floorHeight),
                line: { color: color, width: 4 }
            };
        }

        function createFloor(height) {
            var planeX = [-5, 5, 0, 0];
            var planeY = [0, 0, -5, 5];
            var planeZ = Array(4).fill(height);
            return {
                type: 'mesh3d',
                x: planeX,
                y: planeY,
                z: planeZ,
                opacity: 0.5,
                color: 'blue'
            };
        }

        function updatePlot() {
            var data = [];
            data.push(createCircle(5, 'xy', 'blue'));
            data.push(createCircle(5, 'yz', 'blue'));
            data.push(createFloor(floorHeight));

            var layout = {
                scene: {
                    xaxis: { range: [-10, 10], autorange: false },
                    yaxis: { range: [-10, 10], autorange: false },
                    zaxis: { range: [0, 20], autorange: false }
                }
            };

            Plotly.newPlot('plot', data, layout);
        }

        document.getElementById('floorHeight').addEventListener('input', function (event) {
            floorHeight = parseFloat(event.target.value);
            updatePlot();
        });

        // Initial plot
        updatePlot();

        window.addEventListener('resize', () => {
            Plotly.Plots.resize(document.getElementById('plot'));
        });
    </script>
</body>
</html>
